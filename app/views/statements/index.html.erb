<div class="col-md-2 hidden-xs"></div>
<div class="col-xs-12 col-md-8">

<h1>Statements</h1>
<p>&nbsp;</p>
<%= form_tag({controller: 'statements', action: 'index'}, method: 'get', id: 'filter_form') do %>
  <div class="form-group">
  <%= label_tag(:filter, "Exclude non-voting members at time of statement") %>
  <%= check_box_tag(:filter, "true", params.has_key?(:filter) ? true : false) %>
  <br>
  <%= label_tag(:filter_as_of_now, "Exclude currently non-voting members") %>
  <%= check_box_tag(:filter_as_of_now, "true", params.has_key?(:filter_as_of_now) ? true : false) %>
  <br>
  <%= label_tag(:filter_when_prior, "Exclude statements substantially similar to prior ones by the same member") %>
  <%= check_box_tag(:filter_when_prior, "true", params.has_key?(:filter_when_prior) ? true : false) %>
  </div>
<% end %>

<script>
  document.getElementById('filter').addEventListener('change', function() {
    document.getElementById('filter_form').submit();
  }, false);
  document.getElementById('filter_as_of_now').addEventListener('change', function() {
    document.getElementById('filter_form').submit();
  }, false);
  document.getElementById('filter_when_prior').addEventListener('change', function() {
    document.getElementById('filter_form').submit();
  }, false);
</script>
<%= render :partial => 'statementstable', :locals => { :statements => @statements } %>
<%= link_to "All Members", members_path, class: "btn btn-default" %>
<p/>
</div>
<div class="col-md-2 hidden-xs"></div>
